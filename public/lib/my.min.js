$(function(){$(".AjaxForm").submit(function(b){b.preventDefault();var a={success:function(c){if(c.status=="success"){alert(c.msg);if(c.url){if(c.url=="-1"){self.location=document.referrer;window.location.href=document.referrer}else{location.href=c.url}}else{location.reload()}}else{alert(c.msg)}},error:function(c){console.log(c)},dataType:"json"};$(this).ajaxSubmit(a);return false})});function myAjax(d,a,c){var b=confirm(d);if(b==true){$.ajax({type:"get",url:a,data:c,success:function(e){if(e.status=="success"){alert(e.msg);if(e.url){location.href=e.url}else{location.reload()}}else{alert(e.msg)}},error:function(){alert(error.msg)}})}}Date.prototype.format=function(a){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(a)){a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var b in c){if(new RegExp("("+b+")").test(a)){a=a.replace(RegExp.$1,(RegExp.$1.length==1)?(c[b]):(("00"+c[b]).substr((""+c[b]).length)))}}return a};